<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.2/tailwind.min.css'>
    <title>Document</title>
</head>
<body style="background-color: whitesmoke ;">
  <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
    <!-- Image and text -->
  <section class="vh-100" style="padding-top: 8% ;">
    <div class="container-fluid h-custom">
      <div id="full" class="row d-flex justify-content-center align-items-center h-100">
        <div id="regForm" class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
          <form> 
            <div class="form-outline mb-4">
              <input type="text" id="firstname" class="form-control form-control-lg"
                placeholder="Enter your name" required />
                <div id='first-name-error' class='error'></div>
            </div>    
            <!-- Email input -->
            <div class="form-outline mb-4">
              <input type="email" id="email" class="form-control form-control-lg"
                placeholder="Enter a valid email address" required />
                <div id='email-error' class='error'></div>
            </div>
  
            <!-- Password input -->
            <div class="form-outline mb-3">
              <input type="password" id="password" class="form-control form-control-lg"
                placeholder="Enter password" required pattern='(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}'>
                <div id='password-error' class='error'></div>
            </div>

            <div class="form-outline mb-3">
                <input type="password" id="passwordC" class="form-control form-control-lg"
                  placeholder="Re-enter password" required pattern='(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}'>
                  <div id='passwordC-error' class='error'></div> 
              </div>
  
            <div class="d-flex justify-content-between align-items-center">
              <!-- Checkbox -->
              <div class="form-check mb-0">
                <input class="form-check-input me-2" type="checkbox" value="" id="form2Example3" required />
                <label class="form-check-label" for="form2Example3">
                  Remember me
                </label>
              </div>
              <a href="#!" class="text-body">Forgot password?</a>
            </div>
  
            <div class="text-center text-lg-start mt-4 pt-2">
              <a href="login.html"><button type="button" class="btn btn-primary btn-lg"
                style="padding-left: 2.5rem; padding-right: 2.5rem;">Register</button></a>
              <p class="small fw-bold mt-2 pt-1 mb-0">Already have an account an account? <a href="login.html"
                  class="link-danger">Login</a></p>
            </div>
        </form>
    </div>
    <div id="imagee" class="col-md-9 col-lg-6 col-xl-5">
        <img src="https://www.kindpng.com/picc/m/161-1618750_online-ordering-system-e-commerce-ecommerce-related-clipart.png"
          class="img-fluid" alt="Sample image">
      </div>
  </div>
</div>
</section>
<script>
  const pw = document.querySelector('#password');
  const pwC = document.querySelector('#passwordC');
  const firstname = document.querySelector('#firstname');
  const email = document.querySelector('#email');
  const pwError = document.querySelector('#password-error');
  const pwCError = document.querySelector('#passwordC-error');
  const firstnameError = document.querySelector('#first-name-error');
  const emailError = document.querySelector('#email-error');
  
  firstname.addEventListener("input", function (event) {
    if (firstname.value === '') {
      firstnameError.textContent = 'Please type in your full name.';
      firstname.classList.add('is-invalid');
      console.log('hi!')
    } else {
      firstnameError.textContent = '';
      firstname.classList.remove('is-invalid');
      firstname.classList.add('is-valid');
    }
  }); 

  email.addEventListener("input", function (event) {
    if (email.validity.typeMismatch) {
      emailError.textContent = 'Please enter in a valid Email. ex(johnSmith@email.com)';
      email.classList.add('is-invalid');
    } else {
      emailError.textContent = '';
      email.classList.remove('is-invalid');
      email.classList.add('is-valid');
    }
  }); 

  pw.addEventListener("input", function (event) {
    if (pw.validity.patternMismatch){
      const currentValue = pw.value;
      const regExpCap = /[A-Z]/g;
      const regExpDig = /[0-9]/g;
      let result = '';
      var error = 0;
      
      if (regExpCap.test(currentValue)){
        result += '';
        console.log(error);
      } else {
        result += `Missing at least 1 capital letter.<br> `;
        result += '\n';
        console.log(error);
      }

      if(pw.value == ''){
        pw.classList.add('is-invalid');
        console.log(pw.classList);
      }
      
      
      if (regExpDig.test(currentValue)){
        result += '';
      } else {
        result += 'Missing at least 1 number.<br> ';
        result += '\n';
      }
      
      if (currentValue.length < 9){
        result += 'Password must be at least 8 characters. '
        result += '\n';
        pw.classList.remove('is-valid');
        pw.classList.add('is-invalid');
      } else {
        result += '';
      }

      console.log(result);
      pwError.innerHTML = result;


    } else {
      pwError.innerHTML = '';
      error = 0;
      pw.classList.remove('is-invalid');
      pw.classList.add('is-valid');
    }
  });

  pwC.addEventListener("input", function (event) {
    if (pwC.value !== pw.value) {
      pwCError.textContent = 'Passwords do not match';
    } else {
      pwCError.textContent = '';
    }
  }); 
</script>
</body>
</html>